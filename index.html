<!DOCTYPE html>
<html>
<head><title>手写数字识别</title></head>
<body>
  <h2>上传一张手写数字图片：</h2>
  <input type="file" id="img"><br><br>
  <button onclick="upload()">识别</button>
  <p id="result"></p>

  <script>
    async function upload() {
  const input = document.getElementById("img");
  const file = input.files[0];
  const formData = new FormData();
  formData.append("image", file);

  const res = await fetch("https://deploy-wq6t.onrender.com/predict", {  // 确保使用正确的后端 URL
    method: "POST",
    body: formData
  });

  const data = await res.json();
  if (data.error) {
    document.getElementById("result").innerText = "错误: " + data.error;
  } else {
    document.getElementById("result").innerText = "预测结果是：" + data.prediction;
  }
}

  </script>
</body>
</html>

